"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ErrorReport_1 = require("../../tracing/errorReporting/ErrorReport");
const Tags_1 = require("../../tracing/Tags");
exports.injectErrorOnSpan = (span, err) => {
    span.setTag(Tags_1.Tags.ERROR, 'true');
    let errorReport;
    if (!(err instanceof ErrorReport_1.ErrorReport)) {
        errorReport = ErrorReport_1.ErrorReport.create({
            message: err.message,
            originalError: err,
            tryToParseError: true,
        });
    }
    else {
        errorReport = err;
    }
    span.setTag(Tags_1.Tags.ERROR_KIND, errorReport.kind);
    span.log({ event: 'error', ...errorReport.toObject() });
};
